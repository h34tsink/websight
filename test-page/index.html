<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Agent Test Page â€” Layout + Actions</title>
  <style>
    :root {
      --bg: #1a0a0a;
      --panel: #2a1515;
      --panel2: #3a2020;
      --text: #f4e8e8;
      --muted: #c9a5a5;
      --accent: #ef5555;
      --danger: #ff6b6b;
      --good: #4ade80;
      --border: rgba(220,38,38,.3);
      --shadow: 0 10px 30px rgba(0,0,0,.4);
      --radius: 24px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      --sans: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: var(--sans);
      background: radial-gradient(1200px 600px at 70% -10%, rgba(220,38,38,.25), transparent 60%),
                  radial-gradient(900px 500px at 20% 0%, rgba(100,50,50,.2), transparent 55%),
                  var(--bg);
      color: var(--text);
    }
    a { color: inherit; text-decoration: none; }
    .wrap { max-width: 1180px; margin: 0 auto; padding: 18px; }

    /* Sticky header */
    header[role="banner"]{
      position: sticky;
      top: 0;
      z-index: 50;
      -webkit-backdrop-filter: blur(10px);
      backdrop-filter: blur(10px);
      background: rgba(26,10,10,.9);
      border-bottom: 1px solid var(--border);
    }
    .topbar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      padding: 14px 18px;
    }
    .brand {
      display: flex; align-items: center; gap: 10px;
      font-weight: 700;
      letter-spacing: .2px;
    }
    .logo {
      width: 28px; height: 28px;
      border-radius: 10px;
      background: linear-gradient(135deg, rgba(220,38,38,.95), rgba(239,68,68,.85));
      box-shadow: 0 8px 22px rgba(220,38,38,.25);
    }
    nav[role="navigation"] {
      display: flex; gap: 10px; align-items: center; flex-wrap: wrap;
    }
    .pill {
      padding: 8px 10px;
      border: 1px solid var(--border);
      border-radius: 999px;
      color: var(--muted);
      font-size: 13px;
    }
    .pill:hover { border-color: rgba(220,38,38,.45); color: var(--text); }
    .right {
      display: flex; align-items: center; gap: 10px;
    }
    .search {
      display: flex; align-items: center;
      background: rgba(255,255,255,.05);
      border: 1px solid var(--border);
      border-radius: 999px;
      padding: 8px 10px;
      gap: 8px;
      min-width: 260px;
    }
    .search input {
      border: none; outline: none; background: transparent;
      color: var(--text);
      width: 100%;
      font-size: 13px;
    }
    .btn {
      border: 1px solid var(--border);
      background: rgba(0,0,0,.04);
      color: var(--text);
      padding: 9px 12px;
      border-radius: 12px;
      cursor: pointer;
      font-weight: 600;
    }
    .btn.primary {
      background: rgba(59,130,246,.15);
      border-color: rgba(59,130,246,.4);
      color: #2563eb;
    }
    .btn.danger {
      background: rgba(229,62,62,.12);
      border-color: rgba(229,62,62,.35);
      color: #c53030;
    }

    /* Layout */
    main[role="main"] { padding: 18px 0 40px; }
    .hero {
      display: grid;
      grid-template-columns: 1fr 1fr 320px;
      gap: 16px;
      align-items: stretch;
      margin-top: 14px;
    }
    .card {
      background: linear-gradient(180deg, var(--panel), var(--panel2));
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow: hidden;
    }
    .card .hd { padding: 16px 16px 0; }
    .card .bd { padding: 16px; }
    .kicker {
      color: var(--muted);
      font-size: 12px;
      letter-spacing: .18em;
      text-transform: uppercase;
    }
    h1 { margin: 10px 0 8px; font-size: 30px; line-height: 1.15; }
    .sub { color: var(--muted); margin: 0 0 12px; }
    .hero-actions { display: flex; gap: 10px; flex-wrap: wrap; }
    .grid {
      display: grid;
      grid-template-columns: 1fr 320px;
      gap: 16px;
      margin-top: 16px;
    }
    .cards {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 14px;
    }
    .mini {
      padding: 14px;
      border-radius: 14px;
      border: 1px solid var(--border);
      background: var(--panel2);
      min-height: 120px;
    }
    .mini h3 { margin: 0 0 6px; font-size: 15px; }
    .mini p { margin: 0; color: var(--muted); font-size: 13px; }

    aside[role="complementary"] .bd { display: grid; gap: 12px; }
    .kv {
      display: grid;
      grid-template-columns: 120px 1fr;
      gap: 10px;
      font-family: var(--mono);
      font-size: 15px;
      color: var(--muted);
    }
    .kv b { color: var(--text); font-weight: 700; }

    /* Utility classes */
    .panel-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; padding: 16px; }
    .panel-title { margin: 6px 0; font-size: 15px; }
    .panel-desc { font-size: 13px; }
    .section-title { margin: 10px 0 0; font-size: 18px; }
    .hero-tests-card { position: relative; padding-bottom: 50px; }
    .hero-tests-badges { position: absolute; bottom: 16px; left: 16px; right: 16px; display: flex; gap: 10px; flex-wrap: wrap; }
    .sidebar-note { font-size: 13px; }
    .section-card { margin-top: 16px; }
    .form-row-mt { margin-top: 12px; }
    .form-actions { margin-top: 12px; display: flex; gap: 10px; flex-wrap: wrap; }
    .mono-time { font-family: var(--mono); }
    .footer-flex { display: flex; justify-content: space-between; gap: 12px; flex-wrap: wrap; }
    .modal-title { font-weight: 800; }
    .modal-intro { margin-top: 0; }
    .color-danger { color: var(--danger); }
    .color-good { color: var(--good); }
    .color-accent { color: var(--accent); }
    .color-muted { color: var(--muted); }

    /* Mini panels for 2x2 grid */
    .mini-panel {
      background: var(--panel2);
      border-radius: 12px;
      padding: 12px;
    }
    .kv-mini {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 4px 8px;
      font-family: var(--mono);
      font-size: 12px;
      color: var(--muted);
      margin-top: 8px;
    }
    .kv-mini b { color: var(--text); font-weight: 700; }

    /* Form + table */
    .row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
    label { display:block; font-size: 12px; color: var(--muted); margin-bottom: 6px; }
    input, select, textarea {
      width: 100%;
      border: 1px solid var(--border);
      background: var(--bg);
      color: var(--text);
      border-radius: 12px;
      padding: 10px 12px;
      outline: none;
    }
    textarea { min-height: 90px; resize: vertical; }
    .table {
      width: 100%;
      border-collapse: collapse;
      overflow: hidden;
      border-radius: 14px;
      border: 1px solid var(--border);
      background: var(--panel);
      font-size: 13px;
    }
    .table th, .table td {
      padding: 10px 12px;
      border-bottom: 1px solid var(--border);
      text-align: left;
    }
    .table th { color: var(--muted); font-weight: 600; }
    .badge {
      display:inline-flex; align-items:center; gap:6px;
      padding: 5px 8px;
      border-radius: 999px;
      font-size: 12px;
      border: 1px solid var(--border);
      color: var(--muted);
    }
    .dot { width: 8px; height: 8px; border-radius: 999px; background: var(--accent); }
    .dot.good { background: var(--good); }
    .dot.bad { background: var(--danger); }

    /* Toast */
    .toast {
      position: fixed;
      right: 18px;
      bottom: 18px;
      z-index: 80;
      width: 320px;
      padding: 12px 12px;
      border-radius: 14px;
      border: 1px solid var(--border);
      background: rgba(18,26,43,.92);
      box-shadow: var(--shadow);
      display: none;
    }
    .toast.show { display: block; }
    .toast .t { font-weight: 800; margin-bottom: 4px; }
    .toast .m { color: var(--muted); font-size: 13px; margin: 0; }

    /* Modal */
    .backdrop {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.55);
      display: none;
      z-index: 90;
      align-items: center;
      justify-content: center;
      padding: 22px;
    }
    .backdrop.show { display: flex; }
    .modal {
      width: min(720px, 96vw);
      border-radius: 18px;
      border: 1px solid var(--border);
      background: rgba(18,26,43,.98);
      box-shadow: var(--shadow);
      overflow: hidden;
    }
    .modal .mh {
      display:flex; align-items:center; justify-content:space-between;
      padding: 14px 16px;
      border-bottom: 1px solid var(--border);
    }
    .modal .mb { padding: 16px; }
    .muted { color: var(--muted); }

    footer[role="contentinfo"] {
      border-top: 1px solid var(--border);
      color: var(--muted);
      padding: 18px 0;
    }

    /* Interactive elements styles */
    .checkbox-group, .radio-group {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    .checkbox-group label, .radio-group label {
      display: flex;
      align-items: center;
      gap: 8px;
      cursor: pointer;
      font-size: 14px;
      color: var(--text);
    }
    .checkbox-group input, .radio-group input {
      width: 18px;
      height: 18px;
      accent-color: var(--accent);
    }
    .toggle-label {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 0;
      border-bottom: 1px solid var(--border);
      cursor: pointer;
    }
    .toggle-label:last-child { border-bottom: none; }
    .toggle-switch {
      width: 44px;
      height: 24px;
      background: var(--border);
      border-radius: 12px;
      position: relative;
      transition: background 0.2s;
    }
    .toggle-switch::after {
      content: '';
      position: absolute;
      width: 20px;
      height: 20px;
      background: white;
      border-radius: 50%;
      top: 2px;
      left: 2px;
      transition: transform 0.2s;
    }
    input:checked + .toggle-switch {
      background: var(--accent);
    }
    input:checked + .toggle-switch::after {
      transform: translateX(20px);
    }
    .interactive-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 16px;
    }
    .interactive-group {
      background: var(--panel2);
      border-radius: 12px;
      padding: 16px;
    }
    .interactive-group h4 {
      margin: 0 0 12px 0;
      font-size: 14px;
      color: var(--muted);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .counter {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    .counter button {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      border: 1px solid var(--border);
      background: var(--panel);
      color: var(--text);
      font-size: 18px;
      cursor: pointer;
      transition: all 0.2s;
    }
    .counter button:hover {
      background: var(--accent);
      border-color: var(--accent);
    }
    .counter span {
      font-size: 24px;
      font-weight: 700;
      min-width: 40px;
      text-align: center;
    }
    .tabs {
      display: flex;
      gap: 4px;
      background: var(--panel2);
      padding: 4px;
      border-radius: 10px;
      margin-bottom: 12px;
    }
    .tab {
      flex: 1;
      padding: 8px 12px;
      border: none;
      background: transparent;
      color: var(--muted);
      border-radius: 8px;
      cursor: pointer;
      font-size: 13px;
      transition: all 0.2s;
    }
    .tab.active, .tab:hover {
      background: var(--accent);
      color: white;
    }
    .tab-content {
      padding: 12px;
      background: var(--bg);
      border-radius: 8px;
      min-height: 60px;
    }
    .tab-panel { display: none; }
    .tab-panel.active { display: block; }
    .accordion-item {
      border: 1px solid var(--border);
      border-radius: 10px;
      margin-bottom: 8px;
      overflow: hidden;
    }
    .accordion-header {
      width: 100%;
      padding: 12px 16px;
      background: var(--panel);
      border: none;
      color: var(--text);
      text-align: left;
      cursor: pointer;
      font-size: 14px;
      font-weight: 600;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .accordion-header::after {
      content: 'â–¼';
      font-size: 10px;
      transition: transform 0.2s;
    }
    .accordion-item.open .accordion-header::after {
      transform: rotate(180deg);
    }
    .accordion-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease;
      background: var(--panel2);
    }
    .accordion-item.open .accordion-content {
      max-height: 200px;
    }
    .accordion-content p {
      padding: 12px 16px;
      margin: 0;
      font-size: 13px;
      color: var(--muted);
    }
    .hover-card {
      padding: 16px;
      background: var(--panel);
      border-radius: 12px;
      border: 1px solid var(--border);
      position: relative;
    }
    .hover-tooltip {
      position: absolute;
      bottom: calc(100% + 8px);
      left: 50%;
      transform: translateX(-50%);
      padding: 8px 12px;
      background: var(--text);
      color: var(--bg);
      border-radius: 6px;
      font-size: 12px;
      white-space: nowrap;
      opacity: 0;
      visibility: hidden;
      transition: all 0.2s;
    }
    .hover-card:hover .hover-tooltip {
      opacity: 1;
      visibility: visible;
    }
    .hover-btn {
      padding: 10px 20px;
      background: linear-gradient(135deg, var(--accent), #8b5cf6);
      border: none;
      border-radius: 8px;
      color: white;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .hover-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(99, 102, 241, 0.4);
    }
    .status-display {
      padding: 12px;
      background: var(--bg);
      border-radius: 8px;
      font-family: var(--mono);
      font-size: 12px;
      color: var(--muted);
    }
    input[type="range"] {
      padding: 0;
      height: 6px;
      -webkit-appearance: none;
      appearance: none;
      background: var(--border);
      border-radius: 3px;
    }
    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 18px;
      height: 18px;
      background: var(--accent);
      border-radius: 50%;
      cursor: pointer;
    }
    input[type="color"] {
      padding: 4px;
      height: 44px;
      cursor: pointer;
    }

    @media (max-width: 980px) {
      .hero { grid-template-columns: 1fr; }
      .grid { grid-template-columns: 1fr; }
      .cards { grid-template-columns: 1fr; }
      .search { min-width: 180px; }
    }
  </style>
</head>

<body data-agent-page="true">

<header role="banner" data-testid="header">
  <div class="topbar wrap">
    <div class="brand" data-testid="brand">
      <div class="logo" aria-hidden="true"></div>
      <span>Agent Test Page</span>
      <span class="pill" data-testid="env-pill">ENV: local</span>
    </div>

    <nav role="navigation" aria-label="Primary" data-testid="nav">
      <a class="pill" href="#overview" data-testid="nav-overview">Overview</a>
      <a class="pill" href="#actions" data-testid="nav-actions">Actions</a>
      <a class="pill" href="#form" data-testid="nav-form">Form</a>
      <a class="pill" href="#table" data-testid="nav-table">Table</a>
    </nav>

    <div class="right">
      <div class="search" data-testid="search">
        <span aria-hidden="true">ðŸ”Ž</span>
        <input
          type="search"
          aria-label="Site Search"
          placeholder="Search widgets, buttons, fieldsâ€¦"
          data-testid="search-input"
        />
      </div>
      <button class="btn primary" type="button" data-testid="btn-open-modal" aria-label="Open Help Modal">
        Open Modal
      </button>
      <button class="btn" type="button" data-testid="btn-toast" aria-label="Show Toast Notification">
        Show Toast
      </button>
    </div>
  </div>
</header>

<main role="main" class="wrap" data-testid="main">

  <section id="overview" class="hero" data-testid="hero">
        <!-- LEFT SIDE: 4 panels in a 2x2 grid -->
    <div class="card panel-grid" data-testid="hero-left">
      <div class="mini-panel" data-testid="panel-overview">
        <div class="kicker">Overview</div>
        <h3 class="panel-title">System Status</h3>
        <p class="muted panel-desc">All systems operational</p>
        <div class="kv-mini">
          <span>Uptime</span><b>99.9%</b>
          <span>Latency</span><b>42ms</b>
        </div>
      </div>
      <div class="mini-panel" data-testid="panel-metrics">
        <div class="kicker">Metrics</div>
        <h3 class="panel-title">Performance</h3>
        <p class="muted panel-desc">Last 24 hours</p>
        <div class="kv-mini">
          <span>Requests</span><b>12.4K</b>
          <span>Errors</span><b class="color-danger">23</b>
        </div>
      </div>
      <div class="mini-panel" data-testid="panel-users">
        <div class="kicker">Users</div>
        <h3 class="panel-title">Active Sessions</h3>
        <p class="muted panel-desc">Real-time data</p>
        <div class="kv-mini">
          <span>Online</span><b class="color-good">847</b>
          <span>Peak</span><b>1,203</b>
        </div>
      </div>
      <div class="mini-panel" data-testid="panel-alerts">
        <div class="kicker">Alerts</div>
        <h3 class="panel-title">Notifications</h3>
        <p class="muted panel-desc">Pending items</p>
        <div class="kv-mini">
          <span>Critical</span><b class="color-danger">2</b>
          <span>Warning</span><b class="color-accent">5</b>
        </div>
      </div>
    </div>

    <!-- RIGHT SIDE: 4 panels in a 2x2 grid -->
    <div class="card panel-grid" data-testid="hero-right">
      <div class="mini-panel" data-testid="panel-storage">
        <div class="kicker">Storage</div>
        <h3 class="panel-title">Disk Usage</h3>
        <p class="muted panel-desc">Primary volume</p>
        <div class="kv-mini">
          <span>Used</span><b>234 GB</b>
          <span>Free</span><b class="color-good">766 GB</b>
        </div>
      </div>
      <div class="mini-panel" data-testid="panel-memory">
        <div class="kicker">Memory</div>
        <h3 class="panel-title">RAM Usage</h3>
        <p class="muted panel-desc">Current allocation</p>
        <div class="kv-mini">
          <span>Used</span><b>12.8 GB</b>
          <span>Total</span><b>32 GB</b>
        </div>
      </div>
      <div class="mini-panel" data-testid="panel-cpu">
        <div class="kicker">CPU</div>
        <h3 class="panel-title">Processing</h3>
        <p class="muted panel-desc">8 cores active</p>
        <div class="kv-mini">
          <span>Load</span><b>47%</b>
          <span>Temp</span><b>62Â°C</b>
        </div>
      </div>
      <div class="mini-panel" data-testid="panel-network">
        <div class="kicker">Network</div>
        <h3 class="panel-title">Bandwidth</h3>
        <p class="muted panel-desc">Current throughput</p>
        <div class="kv-mini">
          <span>In</span><b class="color-good">125 Mbps</b>
          <span>Out</span><b>89 Mbps</b>
        </div>
      </div>
    </div>

    <div class="card hero-tests-card" data-testid="hero-tests">
      <div class="hd">
        <div class="kicker">Test Results</div>
        <h2 class="section-title">Latest Run</h2>
      </div>
      <div class="bd">
        <div class="kv" data-testid="test-results">
          <span>Total Tests</span><b>47</b>
          <span>Passed</span><b class="color-good">42</b>
          <span>Failed</span><b class="color-danger">3</b>
          <span>Skipped</span><b class="color-muted">2</b>
        </div>
      </div>
      <div class="hero-tests-badges">
        <span class="badge"><span class="dot good"></span> 89% Pass</span>
        <span class="badge"><span class="dot bad"></span> 3 Issues</span>
      </div>
    </div>
  </section>

  <section id="actions" class="grid" data-testid="content-grid">
    <div class="card" data-testid="cards-panel">
      <div class="hd">
        <div class="kicker">Cards</div>
        <h2 class="section-title">Three card layout</h2>
      </div>
      <div class="bd">
        <div class="cards" data-testid="cards">
          <article class="mini" data-testid="card-1">
            <h3>Reports</h3>
            <p>Tables, filters, export actions.</p>
            <button class="btn" type="button" data-testid="card-1-btn">View Reports</button>
          </article>
          <article class="mini" data-testid="card-2">
            <h3>Dashboard</h3>
            <p>Metrics, status, and a clear CTA.</p>
            <button class="btn" type="button" data-testid="card-2-btn">Open Dashboard</button>
          </article>
          <article class="mini" data-testid="card-3">
            <h3>Settings</h3>
            <p>Forms, toggles, and validation.</p>
            <button class="btn" type="button" data-testid="card-3-btn">Open Settings</button>
          </article>
        </div>
      </div>
    </div>

    <aside role="complementary" class="card" data-testid="sidebar">
      <div class="hd">
        <div class="kicker">Sidebar</div>
        <h2 class="section-title">Quick Actions</h2>
      </div>
      <div class="bd">
        <button class="btn primary" type="button" data-testid="sidebar-run">Run Check</button>
        <button class="btn" type="button" data-testid="sidebar-refresh">Refresh</button>
        <button class="btn danger" type="button" data-testid="sidebar-delete">Delete Something</button>
        <div class="muted sidebar-note">
          Sidebar simulates a right-rail action list.
        </div>
      </div>
    </aside>
  </section>

  <section id="form" class="card section-card" data-testid="form-section" aria-label="Contact Form Section">
    <div class="hd">
      <div class="kicker">Form</div>
      <h2 class="section-title">Contact / Inputs</h2>
    </div>
    <div class="bd">
      <form data-testid="form" aria-label="Contact Form">
        <div class="row">
          <div>
            <label for="name">Name</label>
            <input id="name" name="name" autocomplete="name" placeholder="Ada Lovelace" data-testid="field-name" />
          </div>
          <div>
            <label for="email">Email</label>
            <input id="email" name="email" type="email" autocomplete="email" placeholder="ada@example.com" data-testid="field-email" />
          </div>
        </div>

        <div class="row form-row-mt">
          <div>
            <label for="phone">Phone</label>
            <input id="phone" name="phone" type="tel" placeholder="+1 (555) 123-4567" data-testid="field-phone" />
          </div>
          <div>
            <label for="website">Website</label>
            <input id="website" name="website" type="url" placeholder="https://example.com" data-testid="field-website" />
          </div>
        </div>

        <div class="row form-row-mt">
          <div>
            <label for="topic">Topic</label>
            <select id="topic" name="topic" data-testid="field-topic" aria-label="Topic dropdown">
              <option value="">-- Select topic --</option>
              <option value="ux">UX / Layout</option>
              <option value="automation">Automation</option>
              <option value="performance">Performance</option>
              <option value="security">Security</option>
              <option value="other">Other</option>
            </select>
          </div>
          <div>
            <label for="priority">Priority</label>
            <select id="priority" name="priority" data-testid="field-priority">
              <option value="low">Low</option>
              <option value="med" selected>Medium</option>
              <option value="high">High</option>
              <option value="critical">Critical</option>
            </select>
          </div>
        </div>

        <div class="row form-row-mt">
          <div>
            <label for="country">Country</label>
            <select id="country" name="country" data-testid="field-country">
              <option value="">-- Select country --</option>
              <option value="us">United States</option>
              <option value="uk">United Kingdom</option>
              <option value="ca">Canada</option>
              <option value="au">Australia</option>
              <option value="de">Germany</option>
              <option value="fr">France</option>
              <option value="jp">Japan</option>
            </select>
          </div>
          <div>
            <label for="timezone">Timezone</label>
            <select id="timezone" name="timezone" data-testid="field-timezone">
              <option value="utc">UTC</option>
              <option value="est">Eastern (EST)</option>
              <option value="cst">Central (CST)</option>
              <option value="mst">Mountain (MST)</option>
              <option value="pst">Pacific (PST)</option>
            </select>
          </div>
        </div>

        <div class="row form-row-mt">
          <div>
            <label for="date">Date</label>
            <input id="date" name="date" type="date" data-testid="field-date" />
          </div>
          <div>
            <label for="time">Time</label>
            <input id="time" name="time" type="time" data-testid="field-time" />
          </div>
        </div>

        <div class="row form-row-mt">
          <div>
            <label for="quantity">Quantity (1-100)</label>
            <input id="quantity" name="quantity" type="number" min="1" max="100" value="1" data-testid="field-quantity" />
          </div>
          <div>
            <label for="budget">Budget Range</label>
            <input id="budget" name="budget" type="range" min="0" max="10000" step="500" value="5000" data-testid="field-budget" />
          </div>
        </div>

        <div class="form-row-mt">
          <label for="message">Message</label>
          <textarea id="message" name="message" placeholder="Describe what you want the agent to doâ€¦" data-testid="field-message"></textarea>
        </div>

        <div class="form-row-mt">
          <label>Preferences</label>
          <div class="checkbox-group">
            <label class="checkbox-label">
              <input type="checkbox" name="notifications" value="email" data-testid="check-email-notifications" />
              Email notifications
            </label>
            <label class="checkbox-label">
              <input type="checkbox" name="notifications" value="sms" data-testid="check-sms-notifications" />
              SMS notifications
            </label>
            <label class="checkbox-label">
              <input type="checkbox" name="notifications" value="push" checked data-testid="check-push-notifications" />
              Push notifications
            </label>
            <label class="checkbox-label">
              <input type="checkbox" name="newsletter" value="yes" data-testid="check-newsletter" />
              Subscribe to newsletter
            </label>
          </div>
        </div>

        <div class="form-row-mt">
          <label>Contact Method</label>
          <div class="radio-group">
            <label class="radio-label">
              <input type="radio" name="contact-method" value="email" checked data-testid="radio-contact-email" />
              Email
            </label>
            <label class="radio-label">
              <input type="radio" name="contact-method" value="phone" data-testid="radio-contact-phone" />
              Phone
            </label>
            <label class="radio-label">
              <input type="radio" name="contact-method" value="chat" data-testid="radio-contact-chat" />
              Live Chat
            </label>
          </div>
        </div>

        <div class="form-row-mt">
          <label for="color">Favorite Color</label>
          <input id="color" name="color" type="color" value="#ef5555" data-testid="field-color" />
        </div>

        <div class="form-row-mt">
          <label for="file">Upload File</label>
          <input id="file" name="file" type="file" accept=".pdf,.doc,.docx,.txt" data-testid="field-file" />
        </div>

        <div class="form-row-mt">
          <label for="search-field">Search</label>
          <input id="search-field" name="search" type="search" placeholder="Search for anything..." data-testid="field-search" />
        </div>

        <div class="form-row-mt">
          <label for="password">Password</label>
          <input id="password" name="password" type="password" placeholder="Enter password" data-testid="field-password" />
        </div>

        <div class="form-actions">
          <button class="btn primary" type="submit" data-testid="form-submit">Submit</button>
          <button class="btn" type="reset" data-testid="form-reset">Reset</button>
          <button class="btn" type="button" data-testid="form-save-draft">Save Draft</button>
          <button class="btn danger" type="button" data-testid="form-clear-all">Clear All</button>
        </div>
      </form>
    </div>
  </section>

  <!-- NEW: Interactive Elements Test Section -->
  <section id="interactive" class="card section-card" data-testid="interactive-section" aria-label="Interactive Elements">
    <div class="hd">
      <div class="kicker">Interactions</div>
      <h2 class="section-title">Test Interactions</h2>
    </div>
    <div class="bd">
      <div class="interactive-grid">
        <!-- Toggles -->
        <div class="interactive-group">
          <h4>Toggles</h4>
          <label class="toggle-label">
            <input type="checkbox" role="switch" data-testid="toggle-dark-mode" />
            <span class="toggle-switch"></span>
            Dark Mode
          </label>
          <label class="toggle-label">
            <input type="checkbox" role="switch" checked data-testid="toggle-notifications" />
            <span class="toggle-switch"></span>
            Notifications
          </label>
          <label class="toggle-label">
            <input type="checkbox" role="switch" data-testid="toggle-auto-save" />
            <span class="toggle-switch"></span>
            Auto-save
          </label>
        </div>

        <!-- Buttons -->
        <div class="interactive-group">
          <h4>Buttons</h4>
          <button class="btn" type="button" data-testid="btn-primary-action">Primary Action</button>
          <button class="btn primary" type="button" data-testid="btn-save">Save Changes</button>
          <button class="btn danger" type="button" data-testid="btn-delete">Delete Item</button>
          <button class="btn" type="button" disabled data-testid="btn-disabled">Disabled</button>
        </div>

        <!-- Counter -->
        <div class="interactive-group">
          <h4>Counter</h4>
          <div class="counter">
            <button class="btn" type="button" data-testid="counter-decrement">âˆ’</button>
            <span class="counter-value" data-testid="counter-value">0</span>
            <button class="btn" type="button" data-testid="counter-increment">+</button>
          </div>
        </div>

        <!-- Tabs -->
        <div class="interactive-group">
          <h4>Tabs</h4>
          <div class="tabs" role="tablist">
            <button class="tab active" role="tab" data-tab="overview" data-testid="tab-overview" aria-selected="true">Overview</button>
            <button class="tab" role="tab" data-tab="details" data-testid="tab-details" aria-selected="false">Details</button>
            <button class="tab" role="tab" data-tab="history" data-testid="tab-history" aria-selected="false">History</button>
          </div>
          <div class="tab-content">
            <div class="tab-panel active" data-panel="overview">Overview content: Welcome to WebSight!</div>
            <div class="tab-panel" data-panel="details">Details content: Technical specifications here.</div>
            <div class="tab-panel" data-panel="history">History content: Version changelog.</div>
          </div>
        </div>

        <!-- Accordion -->
        <div class="interactive-group">
          <h4>Accordion</h4>
          <div class="accordion-item" data-testid="accordion-item-1">
            <button class="accordion-header" type="button" data-testid="accordion-1" aria-expanded="false">
              Section 1: Getting Started
            </button>
            <div class="accordion-content"><p>Learn how to get started with WebSight.</p></div>
          </div>
          <div class="accordion-item" data-testid="accordion-item-2">
            <button class="accordion-header" type="button" data-testid="accordion-2" aria-expanded="false">
              Section 2: Configuration
            </button>
            <div class="accordion-content"><p>Configure settings and preferences.</p></div>
          </div>
          <div class="accordion-item" data-testid="accordion-item-3">
            <button class="accordion-header" type="button" data-testid="accordion-3" aria-expanded="false">
              Section 3: Advanced Usage
            </button>
            <div class="accordion-content"><p>Advanced features and tips.</p></div>
          </div>
        </div>

        <!-- Hover Card -->
        <div class="interactive-group">
          <h4>Hover Effects</h4>
          <div class="hover-card" data-testid="hover-card">
            Hover over me!
            <div class="hover-tooltip">This tooltip appears on hover</div>
          </div>
          <button class="btn hover-btn" type="button" data-testid="hover-button">
            Hover Button
          </button>
        </div>
      </div>

      <!-- Status Display -->
      <div class="status-display form-row-mt">
        <span class="muted">Last action: </span>
        <span data-testid="last-action">None</span>
      </div>
    </div>
  </section>

  <section id="table" class="card section-card" data-testid="table-section">
    <div class="hd">
      <div class="kicker">Table</div>
      <h2 class="section-title">Recent Events</h2>
    </div>
    <div class="bd">
      <table class="table" data-testid="events-table" aria-label="Events Table">
        <thead>
          <tr>
            <th>Time</th>
            <th>Event</th>
            <th>Status</th>
            <th>Owner</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><span class="mono-time">10:14</span></td>
            <td>Loaded page</td>
            <td><span class="badge"><span class="dot good"></span> OK</span></td>
            <td>system</td>
          </tr>
          <tr>
            <td><span class="mono-time">10:18</span></td>
            <td>Opened modal</td>
            <td><span class="badge"><span class="dot"></span> INFO</span></td>
            <td>user</td>
          </tr>
          <tr>
            <td><span class="mono-time">10:22</span></td>
            <td>Submitted form</td>
            <td><span class="badge"><span class="dot bad"></span> FAIL</span></td>
            <td>user</td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>

</main>

<footer role="contentinfo" class="wrap" data-testid="footer">
  <div class="footer-flex">
    <div>Agent Test Page â€” built for layout + interaction snapshots.</div>
    <div class="mono-time">v0.1 â€¢ local</div>
  </div>
</footer>

<div class="toast" role="status" aria-live="polite" data-testid="toast">
  <div class="t">Toast Notification</div>
  <p class="m">This is a small, non-blocking overlay in the bottom-right.</p>
</div>

<div class="backdrop" role="dialog" aria-modal="true" aria-label="Help Modal" data-testid="modal-backdrop">
  <div class="modal" data-testid="modal">
    <div class="mh">
      <div class="modal-title">Help Modal</div>
      <button class="btn" type="button" data-testid="btn-close-modal" aria-label="Close modal">Close</button>
    </div>
    <div class="mb">
      <p class="muted modal-intro">
        This modal intentionally covers the main content. Your agent should detect an overlay and prefer interacting inside it.
      </p>
      <div class="row">
        <div>
          <label for="modal-search">Modal Search</label>
          <input id="modal-search" data-testid="modal-search" aria-label="Modal Search" placeholder="Search inside modalâ€¦" />
        </div>
        <div>
          <label for="modal-choice">Choice</label>
          <select id="modal-choice" data-testid="modal-choice" aria-label="Modal Choice">
            <option>Alpha</option>
            <option>Beta</option>
            <option>Gamma</option>
          </select>
        </div>
      </div>
      <div class="form-actions">
        <button class="btn primary" type="button" data-testid="modal-confirm">Confirm</button>
        <button class="btn danger" type="button" data-testid="modal-cancel">Cancel</button>
      </div>
    </div>
  </div>
</div>

<script>
  const toast = document.querySelector('[data-testid="toast"]');
  const openModalBtn = document.querySelector('[data-testid="btn-open-modal"]');
  const closeModalBtn = document.querySelector('[data-testid="btn-close-modal"]');
  const backdrop = document.querySelector('[data-testid="modal-backdrop"]');
  const toastBtn = document.querySelector('[data-testid="btn-toast"]');
  const lastActionEl = document.querySelector('[data-testid="last-action"]');

  function updateStatus(action) {
    if (lastActionEl) {
      lastActionEl.textContent = action + ' at ' + new Date().toLocaleTimeString();
    }
  }

  function showToast() {
    toast.classList.add('show');
    setTimeout(() => toast.classList.remove('show'), 2200);
    updateStatus('Showed toast');
  }

  function openModal() {
    backdrop.classList.add('show');
    const input = document.querySelector('[data-testid="modal-search"]');
    if (input) input.focus();
    updateStatus('Opened modal');
  }

  function closeModal() {
    backdrop.classList.remove('show');
    openModalBtn.focus();
    updateStatus('Closed modal');
  }

  toastBtn.addEventListener('click', showToast);
  openModalBtn.addEventListener('click', openModal);
  closeModalBtn.addEventListener('click', closeModal);
  backdrop.addEventListener('click', (e) => {
    if (e.target === backdrop) closeModal();
  });

  document.querySelector('[data-testid="form"]')?.addEventListener('submit', (e) => {
    e.preventDefault();
    showToast();
    updateStatus('Submitted form');
  });

  // Counter functionality
  const counterValue = document.querySelector('[data-testid="counter-value"]');
  const decrementBtn = document.querySelector('[data-testid="counter-decrement"]');
  const incrementBtn = document.querySelector('[data-testid="counter-increment"]');
  
  if (counterValue && decrementBtn && incrementBtn) {
    decrementBtn.addEventListener('click', () => {
      counterValue.textContent = parseInt(counterValue.textContent) - 1;
      updateStatus('Decremented counter to ' + counterValue.textContent);
    });
    incrementBtn.addEventListener('click', () => {
      counterValue.textContent = parseInt(counterValue.textContent) + 1;
      updateStatus('Incremented counter to ' + counterValue.textContent);
    });
  }

  // Tabs functionality
  const tabs = document.querySelectorAll('.tab');
  const tabPanels = document.querySelectorAll('.tab-panel');
  
  tabs.forEach(tab => {
    tab.addEventListener('click', () => {
      const target = tab.dataset.tab;
      
      tabs.forEach(t => t.classList.remove('active'));
      tabPanels.forEach(p => p.classList.remove('active'));
      
      tab.classList.add('active');
      document.querySelector(`[data-panel="${target}"]`)?.classList.add('active');
      updateStatus('Switched to tab: ' + target);
    });
  });

  // Accordion functionality
  document.querySelectorAll('.accordion-header').forEach(header => {
    header.addEventListener('click', () => {
      const item = header.parentElement;
      const wasOpen = item.classList.contains('open');
      
      // Close all others
      document.querySelectorAll('.accordion-item').forEach(i => i.classList.remove('open'));
      
      // Toggle current
      if (!wasOpen) {
        item.classList.add('open');
        updateStatus('Opened accordion: ' + header.textContent.trim());
      } else {
        updateStatus('Closed accordion');
      }
    });
  });

  // Track all button clicks
  document.querySelectorAll('button').forEach(btn => {
    if (!btn.closest('.counter') && !btn.classList.contains('tab') && !btn.classList.contains('accordion-header')) {
      btn.addEventListener('click', () => {
        const label = btn.getAttribute('data-testid') || btn.textContent.trim();
        if (label !== 'btn-open-modal' && label !== 'btn-close-modal' && label !== 'btn-toast') {
          updateStatus('Clicked: ' + label);
        }
      });
    }
  });

  // Track toggle changes
  document.querySelectorAll('[role="switch"]').forEach(toggle => {
    toggle.addEventListener('change', () => {
      const label = toggle.getAttribute('data-testid') || 'toggle';
      updateStatus(label + ' ' + (toggle.checked ? 'ON' : 'OFF'));
    });
  });

  // Track input changes
  document.querySelectorAll('input, select, textarea').forEach(input => {
    if (input.type !== 'checkbox' && input.type !== 'radio') {
      input.addEventListener('change', () => {
        const label = input.getAttribute('data-testid') || input.name || 'input';
        updateStatus('Changed: ' + label);
      });
    }
  });

  // Range slider live update
  const rangeInput = document.querySelector('[data-testid="field-quantity"]');
  if (rangeInput) {
    rangeInput.addEventListener('input', () => {
      updateStatus('Range: ' + rangeInput.value);
    });
  }
</script>

</body>
</html>
